/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

window.tec=window.tec||{},tec.classicEditorEvents=tec.classicEditorEvents||{},tec.classicEditorEvents.default=tec.classicEditorEvents.default||{},function($,obj){"use strict";obj.selectors={eventEndDate:"#EventEndDate",eventStartDate:"#EventStartDate",exclusionDescription:".tribe-event-recurrence-description",datepicker:".tribe-datepicker",recurrenceEnd:".recurrence_end",recurrenceEndCount:".recurrence_end_count",recurrenceEndSelect:".recurrence-end-range select",recurrenceSameTimeSelect:".tribe-same-time-select",recurrenceTypeButton:".tribe-event-recurrence-rule > .tribe-buttonset .tribe-button-field[data-value]",exclusionTypeButton:".tribe-event-recurrence-exclusion > .tribe-buttonset .tribe-button-field[data-value]",ruleEndsText:".recurrence-end-range .tribe-field-inline-text",ruleTypeDropdown:"select.tec-events-pro-rule-type__dropdown",onceButton:'a[data-value="Date"]'},obj.hideExclusionDescription=function(rows){rows.forEach((function(row){row.querySelectorAll(obj.selectors.exclusionDescription).forEach((function(description){description.style.display="none"}))}))},obj.setExclusionDatepickerMinDates=function(rows){const startDate=$(obj.selectors.eventStartDate).val();startDate&&rows.forEach((function(row){const $rowDatepicker=$(row).find(obj.selectors.datepicker);$rowDatepicker.val()||$rowDatepicker.datepicker("option","minDate",startDate)}))},obj.setRuleEndsText=function(rows){const newEndsText=tecEventSettings.textSubstitution&&tecEventSettings.textSubstitution.ruleEnds?tecEventSettings.textSubstitution.ruleEnds:"";newEndsText&&rows.forEach((function(row){const ruleEndsText=row.querySelector(obj.selectors.ruleEndsText);ruleEndsText&&(ruleEndsText.innerText=newEndsText)}))},obj.setNewEndsOnDefault=function(rows){rows.forEach((function(row){row.querySelectorAll(obj.selectors.recurrenceEndSelect).forEach((function(element){element.value="Never",element.dispatchEvent(new Event("change"))}))}))},obj.setNewEndDateDefault=function(rows){rows.forEach((function(row){const dateFields=row.querySelectorAll(obj.selectors.recurrenceEnd);let eventDate=document.querySelector(obj.selectors.eventStartDate).value;if(!eventDate&&(eventDate=document.querySelector(obj.selectors.eventEndDate).value,!eventDate))return;const _delimiter=eventDate.match(/\W/g)[0];let oldYear,newYear;eventDate.split(_delimiter).forEach((function(piece){4===piece.length&&(oldYear=piece,newYear=parseInt(piece)+1)})),oldYear&&newYear&&(eventDate=eventDate.replace(oldYear,newYear),dateFields.forEach((function(element){element.value||(element.value=eventDate,element.placeholder=eventDate)})))}))},obj.setNewEndCountDefault=function(rows){rows.forEach((function(row){row.querySelectorAll(obj.selectors.recurrenceEndCount).forEach((function(dateField){dateField.value||(dateField.value=10,dateField.placeholder=10)}))}))},obj.setNewOnceTimeSelectDefault=function(rows){rows.forEach((function(row){row.querySelectorAll(obj.selectors.recurrenceSameTimeSelect).forEach((function(element){element.value="no",element.dispatchEvent(new Event("change"))}))}))},obj.setNewRuleType=function(rows){rows.forEach((function(row){const onceButton=row.querySelector(obj.selectors.onceButton);onceButton&&onceButton.click()}))},obj.addSameTimeRowClass=function(rows){rows.forEach((function(row){row.querySelector(obj.selectors.recurrenceSameTimeSelect).closest(".recurrence-row").classList.add("recurrence-same-time")}))},obj.handleRuleTypeDropdownChange=function(event){const $ruleTypeButtonset=$(event.target).closest(".tribe-buttonset"),$row=$ruleTypeButtonset.parent(),selectedOption=event.target.selectedOptions[0],$button=$ruleTypeButtonset.find('a[data-value="'+event.target.value+'"]');tec.classicEditorEvents.offStart.setRuleOffStartFromSelectedOption($row[0],selectedOption),$button.length&&$button.click()},obj.bindRuleEvents=function(rows){rows.forEach((function(row){const ruleTypeDropdown=row.querySelector(obj.selectors.ruleTypeDropdown);ruleTypeDropdown&&$(ruleTypeDropdown).on("change",obj.handleRuleTypeDropdownChange)}))},obj.setRuleTypeDropdownToMatchButtons=function(rows){rows.forEach((function(row){const ruleTypeDropdown=row.querySelector(obj.selectors.ruleTypeDropdown);if(!ruleTypeDropdown)return;if(tec.classicEditorEvents.offStart.isRuleOffStart(row))return;const activeRuleTypeButton=row.classList.contains(tec.classicEditorEvents.selectors.recurrence.replace(".",""))?row.querySelector(obj.selectors.recurrenceTypeButton+".tribe-active"):row.querySelector(obj.selectors.exclusionTypeButton+".tribe-active");if(!activeRuleTypeButton)return;const activeRuleType=activeRuleTypeButton.getAttribute("data-value");$(ruleTypeDropdown).val(activeRuleType).trigger("change")}))},obj.setDefaultsSetFlag=function(rows){rows.forEach((function(row){row.setAttribute("data-defaults-set","1")}))}}(jQuery,tec.classicEditorEvents.default);