/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

window.tec=window.tec||{},tec.classicEditorEvents=tec.classicEditorEvents||{},tec.classicEditorEvents.offStart=tec.classicEditorEvents.offStart||{},function($,obj){"use strict";obj.selectors={disabledOffStartFields:['[data-is-off-start="1"] .tribe-active select[disabled][data-field="end-type"]','[data-is-off-start="1"] .tribe-active input[disabled][data-field="end-count"]','[data-is-off-start="1"] .tribe-active input[disabled][data-field="end"]'],monthlySameDaySelect:".custom-recurrence-months .tribe-same-day-select",recurrenceEnd:".recurrence_end",recurrenceEndCount:".recurrence_end_count",recurrenceEndDay:".recurrence-time select",recurrenceEndTime:".recurrence-time .tribe-field-end_time",recurrenceEndType:".recurrence-end-range select",recurrenceMonthOnTheDaySelect:".recurrence-month-on-the > span > select",recurrenceMonthOnTheNumberSelect:".recurrence-month-on-the > select",recurrenceMonthOnTheSelect:".recurrence-month-on-the select",recurrenceRuleInterval:".tribe-recurrence-rule-interval",recurrenceSameTimeSelect:".tribe-same-time-select",recurrenceStartTime:".recurrence-time .tribe-field-start_time",recurrenceYearMonths:".custom-recurrence-years",recurrenceYearOnTheDaySelect:".tribe-dame-day-select > span > span > select",recurrenceYearOnTheNumberSelect:".tribe-dame-day-select > span > select",recurrenceYearOnTheSelect:".tribe-dame-day-select select",recurrenceWeekDayInput:".custom-recurrence-weeks .tribe-button-field .tribe-button-input",recurrenceYears:".custom-recurrence-years",ruleTypeDropdown:"select.tec-events-pro-rule-type__dropdown",sameDaySelect:".tribe-same-day-select",yearlySameDaySelect:'[data-condition="Yearly"] .tribe-same-day-select'},obj.classes={dropdownOption:"tec-events-pro-rule-type__dropdown-option",dropdownOptionCustom:"tec-events-pro-rule-type__dropdown-option--custom"},obj.setRuleOffStart=function(row,value){row.setAttribute("data-is-off-start",value)},obj.isRuleOffStart=function(row){return"1"===row.getAttribute("data-is-off-start")},obj.disableAllFields=function(row){const $row=$(row);[obj.selectors.recurrenceEnd,obj.selectors.recurrenceEndCount,obj.selectors.recurrenceEndDay,obj.selectors.recurrenceEndTime,obj.selectors.recurrenceEndType,obj.selectors.recurrenceMonthOnTheSelect,obj.selectors.recurrenceRuleInterval,obj.selectors.recurrenceSameTimeSelect,obj.selectors.recurrenceStartTime,obj.selectors.recurrenceYearOnTheSelect,obj.selectors.recurrenceYears,obj.selectors.sameDaySelect].forEach((function(selector){$row.find(selector).prop("disabled",!0)}))},obj.setWeekDay=function(day,active){const isActive=day.classList.contains("tribe-active");active&&isActive||!active&&!isActive||day.click()},obj.selectWeekDays=function(row,days){row.querySelectorAll(obj.selectors.recurrenceWeekDayInput).forEach((function(dayInput){const active=days.includes(dayInput.value),dayButton=dayInput.parentNode;obj.setWeekDay(dayButton,active)}))},obj.isYearMonthsSame=function(months1,months2){if(!Array.isArray(months1)||!Array.isArray(months2))return!1;if(months1.length!==months2.length)return!1;const length=months1.length;for(var i=0;i<length;i++)if(months1[i]!==months2[i])return!1;return!0},obj.setFieldValueIfDifferent=function($field,value,trigger){$field.length&&$field.val()!==value&&($field.val(value),trigger&&$field.trigger(trigger))},obj.setWeeklyFieldValuesFromData=function(row,rule){rule.custom.week&&rule.custom.week.day&&obj.selectWeekDays(row,rule.custom.week.day)},obj.setMonthlyFieldValuesFromData=function(row,rule){const $row=$(row);rule.custom.month&&rule.custom.month["same-day"]&&obj.setFieldValueIfDifferent($row.find(obj.selectors.monthlySameDaySelect),rule.custom.month["same-day"],"change"),rule.custom.month&&rule.custom.month.number&&obj.setFieldValueIfDifferent($row.find(obj.selectors.recurrenceMonthOnTheNumberSelect),rule.custom.month.number,"change"),rule.custom.month&&rule.custom.month.day&&obj.setFieldValueIfDifferent($row.find(obj.selectors.recurrenceMonthOnTheDaySelect),rule.custom.month.day,"change")},obj.setYearlyFieldValuesFromData=function(row,rule){const $row=$(row);if(rule.custom.year&&rule.custom.year.month){const $monthsSelect=$row.find(obj.selectors.recurrenceYearMonths);obj.isYearMonthsSame($monthsSelect.val(),rule.custom.year.month)||$monthsSelect.val(rule.custom.year.month).trigger("change")}rule.custom.year&&rule.custom.year["same-day"]&&obj.setFieldValueIfDifferent($row.find(obj.selectors.yearlySameDaySelect),rule.custom.year["same-day"],"change"),rule.custom.year&&rule.custom.year.number&&obj.setFieldValueIfDifferent($row.find(obj.selectors.recurrenceYearOnTheNumberSelect),rule.custom.year.number,"change"),rule.custom.year&&rule.custom.year.day&&obj.setFieldValueIfDifferent($row.find(obj.selectors.recurrenceYearOnTheDaySelect),rule.custom.year.day,"change")},obj.setCommonRecurrenceFieldValuesFromData=function(row,rule){const $row=$(row);rule.custom.interval&&obj.setFieldValueIfDifferent($row.find(obj.selectors.recurrenceRuleInterval),rule.custom.interval,"change"),rule.custom["same-time"]&&obj.setFieldValueIfDifferent($row.find(obj.selectors.recurrenceSameTimeSelect),rule.custom["same-time"],"change"),rule.custom["start-time"]&&obj.setFieldValueIfDifferent($row.find(obj.selectors.recurrenceStartTime),rule.custom["start-time"],!1),rule.custom["end-time"]&&obj.setFieldValueIfDifferent($row.find(obj.selectors.recurrenceEndTime),rule.custom["end-time"],!1),rule.custom["end-day"]&&obj.setFieldValueIfDifferent($row.find(obj.selectors.recurrenceEndDay),rule.custom["end-day"],"change"),rule["end-type"]&&obj.setFieldValueIfDifferent($row.find(obj.selectors.recurrenceEndType),rule["end-type"],"change"),rule["end-count"]&&obj.setFieldValueIfDifferent($row.find(obj.selectors.recurrenceEndCount),rule["end-count"],!1),rule.end&&obj.setFieldValueIfDifferent($row.find(obj.selectors.recurrenceEnd),rule.end,!1)},obj.setFieldValuesFromData=function(row,type){const offStartIndex=row.getAttribute("data-off-start-index");if(!offStartIndex)return;let rule;if("recurrence"===type?rule=tribe_events_pro_recurrence_data.rules[offStartIndex]:"exclusion"===type&&(rule=tribe_events_pro_recurrence_data.exclusions[offStartIndex]),!rule)return;const ruleType=rule.custom.type;if(ruleType)switch(ruleType){case"Weekly":obj.setWeeklyFieldValuesFromData(row,rule),obj.setCommonRecurrenceFieldValuesFromData(row,rule);break;case"Monthly":obj.setMonthlyFieldValuesFromData(row,rule),obj.setCommonRecurrenceFieldValuesFromData(row,rule);break;case"Yearly":obj.setYearlyFieldValuesFromData(row,rule),obj.setCommonRecurrenceFieldValuesFromData(row,rule)}},obj.syncOffStartRuleState=function(type){document.querySelectorAll(".tribe-event-"+type).forEach((function(row){obj.isRuleOffStart(row)&&(obj.setFieldValuesFromData(row,type),obj.disableAllFields(row))}))},obj.setRuleOffStartFromSelectedOption=function(row,selectedOption){const isOffStart=obj.isRuleOffStart(row),selectedOptionIsCustom=selectedOption.classList.contains(obj.classes.dropdownOptionCustom);isOffStart&&!selectedOptionIsCustom?obj.setRuleOffStart(row,"0"):!isOffStart&&selectedOptionIsCustom&&obj.setRuleOffStart(row,"1")},obj.initNewRules=function(rows){rows.forEach((function(row){obj.setRuleOffStart(row,"0")}))},obj.initOffStartRules=function(rows){rows.forEach((function(row,index){const rule=row.classList.contains(tec.classicEditorEvents.selectors.recurrence.replace(".",""))?tribe_events_pro_recurrence_data.rules[index]:tribe_events_pro_recurrence_data.exclusions[index],$dropdown=$(row).find(obj.selectors.ruleTypeDropdown);if(!rule||!rule.isOffStart)return obj.setRuleOffStart(row,"0"),void $dropdown.select2TEC();row.setAttribute("data-off-start-index",index),obj.setRuleOffStart(row,"1");const option=new Option(tribe_events_pro_recurrence_strings.customTablesV1.ruleTypes.custom[rule.custom.type],rule.custom.type,!1,!0);option.classList.add(obj.classes.dropdownOption),option.classList.add(obj.classes.dropdownOptionCustom),$dropdown.append(option).trigger("change"),$dropdown.select2TEC()}))},obj.enableOffStartFieldsForSubmission=function(){$(obj.selectors.disabledOffStartFields.join(",")).removeAttr("disabled")}}(jQuery,tec.classicEditorEvents.offStart);