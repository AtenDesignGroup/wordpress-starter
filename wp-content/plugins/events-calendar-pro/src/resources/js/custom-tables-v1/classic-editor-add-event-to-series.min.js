/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

window.tec=window.tec||{},tec.addEventToSeries=tec.addEventToSeries||{},function($,obj){"use strict";obj.selectors={seriesToEventsSelect:"#_tec_relationship_series_to_events",resultTemplate:"#tec-events-pro-series__result-template",resultLabelTitle:".tec-events-pro-series__result-label-title",resultLabelCountEvents:".tec-events-pro-series__result-label-count-events",resultLabelStatus:".tec-events-pro-series__result-label-status",resultDate:".tec-events-pro-series__result-date",selection:".select2-selection__choice",selectionRemove:".select2-selection__choice__remove",selectionTemplate:"#tec-events-pro-series__selection-template",selectionTitle:".tec-events-pro-series__selection-title",selectionTitleText:".tec-events-pro-series__selection-title-text",selectionCountEvents:".tec-events-pro-series__selection-count-events",selectionsLabel:".tec-events-pro-series__selections-label",selectionsList:".tec-events-pro-series__selections-list",searchField:".select2-search__field"},obj.classes={hidden:"hidden"},obj.el={$instance:null},obj.formatResultTemplate=function(result){if(!result.element)return result.text;if(!result.selected){var template=$(obj.selectors.resultTemplate).text(),$template=$(template);$template.find(obj.selectors.resultLabelTitle).text(result.text);var $resultLabelCountEvents=$template.find(obj.selectors.resultLabelCountEvents),$resultDate=$template.find(obj.selectors.resultDate);"1"===result.element.dataset.recurring?($resultLabelCountEvents.text(result.element.dataset.recurrenceCount),$resultDate.text(result.element.dataset.recurrenceFirstStartDate+" - "+result.element.dataset.recurrenceLastEndDate)):($template.find("svg").remove(),$resultLabelCountEvents.remove(),$resultDate.text(result.element.dataset.startDate));var $resultLabelStatus=$template.find(obj.selectors.resultLabelStatus);return $.inArray(result.element.dataset.status,["draft","pending"])>=0?$resultLabelStatus.text("â€“ "+result.element.dataset.statusLabel):$resultLabelStatus.remove(),$template}},obj.formatSelectionTemplate=function(selection){if(!selection.element)return selection.text;var template=$(obj.selectors.selectionTemplate).text(),$template=$(template);$template.find(obj.selectors.selectionTitle).text(selection.text);var $selectionCountEvents=$template.find(obj.selectors.selectionCountEvents);return"1"===selection.element.dataset.recurring?($selectionCountEvents.text(selection.element.dataset.recurrenceCount),selection.title=selection.element.dataset.recurrenceFirstStartDate+" - "+selection.element.dataset.recurrenceLastStartDate):($template.find("svg").remove(),$selectionCountEvents.remove(),selection.title=selection.element.dataset.startDate),$template},obj.moveSelections=function(){var $container=obj.el.$instance.parent(),$list=$container.find(obj.selectors.selectionsList);$list.empty();var $selections=$container.find(obj.selectors.selection);$selections.each((function(index,selection){var $selection=$(selection).addClass(obj.classes.hidden);$selection.clone().appendTo($list).find(obj.selectors.selectionRemove).on("click",(function(){$selection.find(obj.selectors.selectionRemove).trigger("click")}))}));var $selectionsLabel=$container.find(obj.selectors.selectionsLabel);$selections.length?$selectionsLabel.removeClass(obj.classes.hidden):$selectionsLabel.addClass(obj.classes.hidden)},obj.setPlaceholder=function(){var placeholder=obj.el.$instance.data("placeholder");obj.el.$instance.next().find(obj.selectors.searchField).attr("placeholder",placeholder)},obj.handleSelect=function(){obj.moveSelections(),obj.setPlaceholder(),obj.el.$instance.select2TEC("close")},obj.handleUnselect=function(){obj.moveSelections(),obj.setPlaceholder()},obj.handleUnselecting=function(){obj.el.$instance.data("unselecting.tecEventsPro",!0)},obj.handleOpening=function(event){obj.el.$instance.data("unselecting.tecEventsPro")&&(obj.el.$instance.removeData("unselecting.tecEventsPro"),event.preventDefault())},obj.bindEvents=function(){obj.el.$instance.on("select2:select",obj.handleSelect).on("select2:unselect",obj.handleUnselect).on("select2:unselecting",obj.handleUnselecting).on("select2:opening",obj.handleOpening)},obj.setupDropdown=function(){var data=obj.el.$instance.data("dropdown");data.closeOnSelect=!0,data.templateResult=obj.formatResultTemplate,data.templateSelection=obj.formatSelectionTemplate,obj.el.$instance.data("dropdown",data),obj.el.$instance.select2TEC(data)},obj.ready=function(){obj.el.$instance=$(obj.selectors.seriesToEventsSelect),obj.el.$instance.length&&(obj.setupDropdown(),obj.bindEvents(),obj.moveSelections(),obj.setPlaceholder())},$(obj.ready)}(jQuery,tec.addEventToSeries);