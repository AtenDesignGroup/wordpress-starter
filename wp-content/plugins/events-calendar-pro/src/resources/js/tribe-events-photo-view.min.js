/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

!function(window,document,$,td,te,tf,ts,tt,config,dbug){dbug&&($().isotope||tec_debug.warn("TEC Debug: vendor isotope was not loaded before its dependent file tribe-photo-view.js")),$((function(){var tribe_is_paged=tf.get_url_param("tribe_paged"),tribe_display=tf.get_url_param("tribe_event_display"),$container=$("#tribe-events-photo-events");function tribe_setup_isotope($container){$().isotope?($container.isotope({itemSelector:".tribe-events-photo-event",percentPosition:!0,masonry:{columnWidth:".tribe-events-photo-grid-sizer",gutter:".tribe-events-photo-gutter-sizer"}}),$container.imagesLoaded().progress((function(){$container.isotope("layout")}))):$("#tribe-events-photo-events").removeClass("photo-hidden").css("opacity","1")}if(ts.view="photo",tribe_is_paged&&(ts.paged=tribe_is_paged),"past"==tribe_display&&(ts.view="past"),tribe_setup_isotope($container),tt.pushstate&&!tt.map_view()){var params="action=tribe_photo&tribe_paged="+ts.paged;td.params.length&&(params=params+"&"+td.params),ts.category&&(params=params+"&tribe_event_category="+ts.category),tf.is_featured()&&(params+="&featured=1"),$(document.getElementById("tribe-events")).is(".tribe-events-shortcode")&&!1===config.update_urls.shortcode.photo||history.replaceState({tribe_params:params,tribe_url_params:td.params},"",location.href),$(window).on("popstate",(function(event){var state=event.originalEvent.state;state&&(ts.do_string=!1,ts.pushstate=!1,ts.popping=!0,ts.params=state.tribe_params,ts.url_params=state.tribe_url_params,tf.pre_ajax((function(){tribe_events_photo_ajax_post()})),tf.set_form(ts.params))}))}function tribe_events_bar_photoajax_actions(e){if("change_view"!=tribe_events_bar_action){if(e.preventDefault(),ts.ajax_running)return;ts.paged=1,ts.view="photo",ts.popping=!1,tf.pre_ajax((function(){tribe_events_photo_ajax_post()}))}}function tribe_events_photo_ajax_post(){if(!ts.popping){ts.ajax_running=!0,ts.filter_cats&&(td.cur_url=$("#tribe-events-header").data("baseurl"));var tribe_hash_string=$("#tribe-events-list-hash").val();if(ts.params={action:"tribe_photo",tribe_paged:ts.paged,tribe_event_display:ts.view,featured:tf.is_featured()},ts.url_params={action:"tribe_photo",tribe_paged:ts.paged,tribe_event_display:ts.view},td.default_permalinks&&(ts.url_params.hasOwnProperty("post_type")||(ts.url_params.post_type=config.events_post_type),ts.url_params.hasOwnProperty("eventDisplay")||(ts.url_params.eventDisplay=ts.view)),tribe_hash_string.length&&(ts.params.hash=tribe_hash_string),ts.category&&(ts.params.tribe_event_category=ts.category),$(te).trigger("tribe_ev_serializeBar"),$(te).trigger("serialize-bar.tribe"),tf.invalid_date_in_params(ts.params))return void(ts.ajax_running=!1);$("#tribe-events-header").tribe_spin(),function tribe_show_loader(){$(".photo-loader").show(),$("#tribe-events-photo-events").addClass("photo-hidden")}(),ts.params=$.param(ts.params),ts.url_params=$.param(ts.url_params),$(te).trigger("tribe_ev_collectParams"),$(te).trigger("collect-params.tribe"),ts.pushstate=!1,ts.do_string=!0}tt.pushstate&&!ts.filter_cats?(dbug&&tec_debug.time("Photo View Ajax Timer"),$(te).trigger("tribe_ev_ajaxStart").trigger("tribe_ev_photoView_AjaxStart"),$(te).trigger("ajax-start.tribe").trigger("photo-view-ajax-start.tribe"),$.post(TribePhoto.ajaxurl,ts.params,(function(response){if(ts.initial_load=!1,tf.enable_inputs("#tribe_events_filters_form","input, select"),response.success){ts.ajax_running=!1,td.ajax_response={total_count:parseInt(response.total_count),view:response.view,max_pages:response.max_pages,tribe_paged:response.tribe_paged,timestamp:(new Date).getTime()},$("#tribe-events-list-hash").val(response.hash);var $the_content=$.parseHTML(response.html);$("#tribe-events-content").replaceWith($the_content),$("#tribe-events-content").prev("#tribe-events-list-hash").remove(),$(".tribe-events-promo").next(".tribe-events-promo").remove(),0==response.max_pages&&$("#tribe-events-header").hide(),ts.page_title=$("#tribe-events-header").data("title"),ts.view_title=$("#tribe-events-header").data("viewtitle"),ts.page_title&&(document.title=ts.page_title),$(".tribe-events-page-title").html(ts.view_title);var shouldUpdateHistory=!$(document.getElementById("tribe-events")).is(".tribe-events-shortcode")||!1!==config.update_urls.shortcode.photo;ts.do_string&&shouldUpdateHistory&&history.pushState({tribe_params:ts.params,tribe_url_params:ts.url_params},ts.page_title,td.cur_url+"?"+ts.url_params),ts.pushstate&&shouldUpdateHistory&&history.pushState({tribe_params:ts.params,tribe_url_params:ts.url_params},ts.page_title,td.cur_url),tribe_setup_isotope($("#tribe-events-photo-events")),$(te).trigger("tribe_ev_ajaxSuccess").trigger("tribe_ev_photoView_AjaxSuccess"),$(te).trigger("ajax-success.tribe").trigger("photo-view-ajax-success.tribe"),dbug&&tec_debug.timeEnd("Photo View Ajax Timer")}}))):ts.url_params.length?window.location=td.cur_url+"?"+ts.url_params:window.location=td.cur_url}$("#tribe-events").on("click","li.tribe-events-nav-next a",(function(e){e.preventDefault(),ts.ajax_running||("past"==ts.view?"1"==ts.paged?ts.view="photo":ts.paged--:ts.paged++,ts.popping=!1,tf.pre_ajax((function(){tribe_events_photo_ajax_post()})))})).on("click","li.tribe-events-nav-previous a",(function(e){e.preventDefault(),ts.ajax_running||("photo"==ts.view?"1"==ts.paged?ts.view="past":ts.paged--:ts.paged++,ts.popping=!1,tf.pre_ajax((function(){tribe_events_photo_ajax_post()})))})),(tt.no_bar()||tt.live_ajax()&&tt.pushstate)&&$("#tribe-bar-date").on("changeDate",(function(e){tt.reset_on()||tribe_events_bar_photoajax_actions(e)})),$(te).on("updating-recurrence.tribe",(function(){ts.popping=!1})),$("#tribe-bar-form").on("submit",(function(e){"change_view"!=tribe_events_bar_action&&tribe_events_bar_photoajax_actions(e)})),tf.snap("#tribe-events-content-wrapper","#tribe-events-content-wrapper","#tribe-events-footer .tribe-events-nav-previous a, #tribe-events-footer .tribe-events-nav-next a"),$(te).on("run-ajax.tribe",(function(){tribe_events_photo_ajax_post()})),dbug&&tec_debug.info("TEC Debug: tribe-events-photo-view.js successfully loaded"),ts.view&&dbug&&tec_debug.timeEnd("Tribe JS Init Timer")}))}(window,document,jQuery,tribe_ev.data,tribe_ev.events,tribe_ev.fn,tribe_ev.state,tribe_ev.tests,tribe_js_config,tribe_debug);