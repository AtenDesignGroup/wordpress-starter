(()=>{"use strict";window.addEventListener("load",(()=>{const e=document.querySelector(".fillablepdfs-dropzone"),l=document.querySelector(".fillablepdfs-template-info"),t=document.getElementById("name");if(e){const a=document.getElementById(e.dataset.file),n=fg_fillablepdfs_admin_strings;e.ondragover=l=>{e.classList.add("fillablepdfs-dropzone--dropping"),l.preventDefault()},e.ondragstart=l=>{e.classList.add("fillablepdfs-dropzone--dropping"),l.preventDefault()},e.ondragend=l=>{e.classList.remove("fillablepdfs-dropzone--dropping"),l.preventDefault()},e.ondrop=l=>{l.preventDefault(),e.classList.remove("fillablepdfs-dropzone--dropping"),a.files=l.dataTransfer.files,a.dispatchEvent(new Event("change",l))},e.addEventListener("click",(e=>{a.click()})),a.addEventListener("change",(a=>a.target.files.length>1?(alert(n.too_many_files),a.target.value=null,!1):"application/pdf"!==a.target.files[0].type?(alert(n.illegal_file_type),a.target.value=null,!1):(document.querySelector(".fillablepdfs-dropzone__changed").value="1",e.dataset.import&&e.parentElement.submit(),l&&(l.querySelector(".fillablepdfs-template-info__file-name").innerHTML=a.target.files[0].name,e.style.display="none",l.style.display="flex"),void(t&&0===t.value.length&&(t.value=a.target.files[0].name.replace(/\.[^/.]+$/,""),t.dispatchEvent(new Event("keyup")))))))}t&&document.querySelector(".fillablepdfs-template-info__name")&&t.addEventListener("keyup",(e=>{document.querySelector(".fillablepdfs-template-info__name").innerHTML=e.target.value})),document.querySelector(".fillablepdfs-template-info__action--replace")&&document.querySelector(".fillablepdfs-template-info__action--replace").addEventListener("click",(t=>{t.preventDefault(),document.getElementById(e.dataset.file).value=null,document.querySelector(".fillablepdfs-dropzone__changed").value="1",l.style.display="none",e.style.display="block"}))}))})();