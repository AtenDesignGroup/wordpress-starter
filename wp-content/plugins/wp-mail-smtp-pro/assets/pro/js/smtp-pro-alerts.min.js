"use strict";var WPMailSMTP=window.WPMailSMTP||{};WPMailSMTP.Admin=WPMailSMTP.Admin||{},WPMailSMTP.Admin.Alerts=WPMailSMTP.Admin.Alerts||function(s){var r={init:function(){s(r.ready)},ready:function(){r.bindActions(),r.insertRemoveConnectionButtons()},bindActions:function(){s(".wp-mail-smtp-tab-alerts").on("click",".js-wp-mail-smtp-setting-alert-add-connection",r.addConnection).on("click",".js-wp-mail-smtp-setting-alert-remove-connection",r.removeConnection).on("change",".js-wp-mail-smtp-setting-alert-enabled",r.toggleAlertSettings)},toggleAlertSettings:function(){var t=s(this).closest(".wp-mail-smtp-setting-row-alert").find(".wp-mail-smtp-setting-row-alert-options"),n=t.find(".wp-mail-smtp-setting-field input");s(this).is(":checked")?(t.show(),n.prop("required",!0)):(t.hide(),n.prop("required",!1))},addConnection:function(t){t.preventDefault();var n=s(this).closest(".wp-mail-smtp-setting-row-alert-options"),i=s(this).closest(".wp-mail-smtp-setting-row"),e=s(this).data("provider"),o=n.find(".wp-mail-smtp-setting-row-alert-connection-options").length,t=wp_mail_smtp_alerts.providers[e].connection_options_tmpl,e=wp_mail_smtp_alerts.providers[e].max_connections_count,t=s(t.replaceAll("%%index%%",o));1===o&&r.insertRemoveConnectionButton(n.find(".wp-mail-smtp-setting-row-alert-connection-options")),r.insertRemoveConnectionButton(t),i.before(t),o+1===e&&s(this).prop("disabled",!0)},removeConnection:function(){var t=s(this).closest(".wp-mail-smtp-setting-row-alert-options"),n=t.find(".js-wp-mail-smtp-setting-alert-add-connection"),i=n.data("provider"),e=wp_mail_smtp_alerts.providers[i].max_connections_count;s(this).closest(".wp-mail-smtp-setting-row-alert-connection-options").remove();i=t.find(".wp-mail-smtp-setting-row-alert-connection-options").length;1===i&&t.find(".js-wp-mail-smtp-setting-alert-remove-connection").remove(),i<e&&n.prop("disabled",!1)},insertRemoveConnectionButton:function(t){t.find(".wp-mail-smtp-setting-field").first().append('<i class="js-wp-mail-smtp-setting-alert-remove-connection dashicons dashicons-trash"></i>')},insertRemoveConnectionButtons:function(){s(".wp-mail-smtp-setting-row-alert-options").each(function(){var t=s(this).find(".wp-mail-smtp-setting-row-alert-connection-options");1<t.length&&t.each(function(){r.insertRemoveConnectionButton(s(this))})})}};return r}((document,window,jQuery)),WPMailSMTP.Admin.Alerts.init();